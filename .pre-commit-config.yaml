fail_fast: true
repos:
  - repo: local
    hooks:
      - id: go-docker
        name: go
        language: docker_image
        entry: plantdex_plants-app-dev:latest sh -c "cd plants/app && gofmt -l -s -w ."
        files: plants/app/
        verbose: true

      - id: typescript-docker
        name: typescript
        language: docker_image
        pass_filenames: false
        entry: plantdex_web-app-dev:latest sh -c "cd web && npm run typecheck"
        files: web/
        verbose: true

      - id: eslint-docker
        name: eslint
        language: docker_image
        entry: plantdex_web-app-dev:latest sh -c "cd web && npm run lint"
        exclude_types: [css, html, json]
        files: web/
        verbose: true

      - id: prettier-docker
        name: prettier
        language: docker_image
        entry: plantdex_web-app-dev:latest sh -c "cd web && npm run format"
        files: web/
        verbose: true
